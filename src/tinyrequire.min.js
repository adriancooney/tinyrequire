!function(e){var n=[],t=[],c=[],o=function(e,t,o){var i,r;return"function"==typeof t?(r=t,i=a.extractDependencies(r)):(i=t,r=o),i&&i.length?n[e]={name:e,callback:r,loaded:!1,dependencies:i}:(c.push(e),n[e]={name:e,callback:r,module:r(),loaded:!0,dependencies:[]}),d(),a.onModule&&a.onModule(n[e]),n[e]},a=function(e,t){var c,o;"function"==typeof e?(o=e,c=a.extractDependencies(o)):(c=e,o=t);var i={callback:o,dependencies:c};return n.push(i),a.onModule&&a.onModule(i),d(),i},d=function(){Object.keys(n).map(function(e){return n[e]}).concat(n).forEach(function(e){!e.loaded&&e.dependencies.every(function(e){return-1!==c.indexOf(e)})&&(c.push(e.name),e.loaded=!0,e.module=e.callback.apply(null,e.dependencies.map(function(e){return n[e].module})),d())})};a.extractDependencies=function(e){return e=e.toString(),e=e.replace(/\/\*[^(?:\*\/)]+\*\//g,""),e=e.match(/function \(([^\)]*)\)/)[1],e?e.split(",").map(function(e){return e.trim()}):[]},a.loadScript=function(e,n){var t=document.createElement("script");t.onload=n,document.head.appendChild(t),t.src=e},document.addEventListener("DOMContentLoaded",function(){Array.prototype.forEach.call(document.getElementsByTagName("script"),function(e){if(e.src.match(/tinyrequire/)&&e.hasAttribute("data-main")){var n=e.getAttribute("data-main"),c=n.split("/"),o=(c.pop(),c.join("/"));a.loadScript(n),a.onModule=function(e){e.dependencies.forEach(function(e){-1==t.indexOf(e)&&(a.loadScript(o+"/"+e+".js",function(){t.splice(t.indexOf(e),1)}),t.push(e))})}}})}),a.modules=n,e.require=a,e.define=o}(window);